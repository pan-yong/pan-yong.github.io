## for 循环

###### 一般形式

```tex
for( 表达式1; 表达式2; 表达式3)
{
    语句;
}
```

我们来举例说明 `for` 语句的执行流程：

```c
#include<stdio.h>
main()
{
    for(; ; )
        printf("1");
}
```

运行程序，我们可以看到屏幕上一直在输出1，即 `for` 循环一直在执行。若改为 `for(;1;)` ，执行结果也是一直在输出1。若改为 `for(;0;)`  ，则没有任何东西输出。这说明 `for` 语句中的表达式2：为真时才进入循环，为假时不进入循环，且表达式1、表达式2、表达式3都可以省略，省略表达式2时默认为真。

再看表达式3：

```c
#include<stdio.h>
main()
{
    int i = 1;
    for(; i < 5; i++)
        printf("%d",i);
}
```

运行程序，我们可以看到屏幕上输出结果为`12345` 。这说明，表达式2为真，进入循环体，然后执行了表达式3，接着又判断表达式2，表达式2为真，再次进入循环体，然后再执行表达式3，依此类推形成循环，当表达式2为假时，结束循环。

而表达式1，只在进入循环前执行一次，一般用来给循环变量赋初始值，例如，上述`for`语句可以改写为：` for (i = 1; i < 5; i++) `。

举例：编写代码求 `1 + 2 + 3 + 4 + 5`

```c
#include<stdio.h>
main()
{
    int i, s;
    for(s = 0, i = 1; i <= 5; i++)
        s += i;
    printf("%d", s);
}
```

表达式1中给循环变量i与和变量s赋了初始值。表达式2为真时，进入执行循环体，接着执行表达式3，然后再次判断表达式2...... 注意：for下面只有一条语句`s+=i;` ，后面的 `printf` 语句不属于 `for` 语句，当有多条语句要包含在循环体内时要用 `{}`  扩起来。

举例：编写代码求`1! + 2! + 3! + 4! + 5!`

```c
#include<stdio.h>
main()
{
    int i, j, s;
    s = 0;
    j = 1;
    for (i = 1; i <= 5; i++)
    {
        j *= i;  // j = i!
        s += j;
    }
    printf("%d", s);
}
```

举例：编写代码求 `1 + 1/2 + 1/3 + ...... + 1/100 `

```c
#include<stdio.h>
main()
{
    int i;
    double s = 0;
    for (i = 1; i <= 100; i++)
        s += 1.0 / i;
    printf("%f", s);
}
```

###### 课堂练习

```tex
1. 若i为整型变量，则下列语句中循环执行次数是（        ）
   for(i = 3; i = 3; i++) printf("%d", i);
	A. 1次        B. 0        C. 无数次        D.程序报错
    
2. 对"for (表达式1; ; 表达式3)" 可理解为：（        ）
    A. for (表达式1; 1; 表达式3)    B. for (表达式1; 表达式2; 表达式3)
    A. for (表达式1; 0; 表达式3)    B. for (表达式1; 表达式1; 表达式3)
        
3. 若i,j都为整型变量，执行语句"for(i=0,j=3;i<=10;i++);j++;printf("%d",j);"的运行结果是___

4. 下列程序段运行结果是（        ）
    for(ch = 'a'; ch <= 'f'; ch++)
        printf("%2c", ch);
    A. abcd    B. a b c d e f     C. ABCDEF    D. A B C D E F
        
5. 下面程序段执行结果是（        ）
    for(i=1; i < 20; i = i*i)
    {
        printf("%d", i);
        i++;
    }
    A. 14        B. 1        C. 1 4 16        D. 1
                    4                            4
                                                 16
6. 一下程序实现求1～10的和，请填空。
   #include<stdio.h>
   main()
   {
       int i, sum;
       sum = 0;
       for (i=1; ______; ______)
           ________________;
        printf("%d", sum);
   }
```

###### 课堂测试

```tex
1. 关于for循环语句说法正确的是（        ）
	A.任何情况下，for循环语句中的3个表达式不能缺少
    B.for循环语句只能用于循环次数已知的情形
    C.for循环语句中的语句至少执行一次
    D.for循环语句中的循环体可以是复合语句
    
2.对for(表达式1; ;表达式3)可理解为（        ）
    A.for（表达式1;0;表达式3）
    B.for（表达式1;1;表达式3）
    C.for（表达式1;表达式1;表达式3）
    D.for（表达式1;表达式3;表达式3）
        
3.下面for循环语句（         ）
    int i,k;
    for(i=0,k=-1; k=1; i++,k++)
        printf("?????");
    A.判断循环结束的条件非法
    B.是无限循环
    C.只循环一次
    D.一次也不循环

4.若i为整型变量，则以下循环执行次数是（         ）。
    #include<stdio.h>
    int main()
    {
        int i;
        for(i=2;i==0;) 
            printf("%d",i--);
    }
    A.无限次    B.0次    C.1次    D.2次

5. 下面程序输出结果是（        ）
    #include<stdio.h>
    int main()
    {
        int x;
        for(x = 3; x < 6; x++)
            printf( (x%2) ? ("**%d") : ("##%d\n"), x)
    }

6. 下面程序输出结果是（        ）
    #include<stdio.h>
    int main()
    {
        int a = 0, i;
        for (i = 1; i < 5; i++)
        {
            switch(i){
                case 0: a += 2;
                case 1:
                case 2: a += 3;
                default:a += 5;
            }
        }
        printf("%d", a);
    }

7. 下面程序功能是计算1～50中是7的倍数的数值之和，请填空。
    #include<stdio.h>
    main()
    {
        int i, sum = 0;
        for (i = 1; i <= 50; i++)
            if (i%7==0)
                _______________;
        printf("%d", sum);
    }

8. 下面程序功能是计算1～10中奇数之和与偶数之和，请填空。
    #include<stdio.h>
    main()
    {
        int a, b, c, i;
        a = c = 0;
        for (i = 0; i <= 10; i+=2)
        {
            a += i;
            ___________________;
            c += b;
        }
        printf("偶数之和=%d\n", a);
        printf("奇数之和=%d\n", c-11);
    }

9. 有一堆零件（100到200之间），如果分成4个零件一组的若干组，则多2个零件;若分成个零件一组，则多3个零件;若分成9个零件一组，则多5个零件。下面程序求这堆零件总数，请填空。
    #include<stdio.h>
    main()
    {
        int i;
        for (i = 100; i < 200; i++)
            if ((i-2)%4 ==0)
                if (!((i-3)%7))
                    if (___________)
                        printf("%d", i);
    }

10. 编程题：输出50～100中所有不能被7整除的数。
    
    
    
    
    
    
    
    
    
```



