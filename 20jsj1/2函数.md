## 函数

函数，是构成C程序的基本单位。

##### 1. 主函数

```c
#include<stdio.h>
int main()  // 主函数
{
    printf("hello, world.\n");  // 库函数
    return 0; 
}
```

- `main(){}` ，主函数，C程序的入口。 `main`前的 `int` (整型)，表示函数的返回值类型，返回值为 `return 0;` ，表示程序正常结束。
- `printf()` ，标准库输出函数，功能是输出数据到屏幕，调用需要`#include<stdio.h>` 。
- 程序从主函数开始，一行一行往下执行，到主函数末尾结束。



##### 2.函数术语

函数术语，源于数学，指根据参数进行计算的规则（对应法则）。如图所示：

<img src=".\images\hanshu.png" alt="img" style="zoom:70%;" />

- 函数名：`f`

- 函数形参：`x`

- 对应法则：`f(x) = x+1` 

- 函数值：取`x=4` 时，使用`f(x)`函数，得到函数值`f(4) = 1 + 4 = 5`

  > 另一个函数`g(y,z)` 有两个形参。



##### 3.自定义函数

- **函数名**：只能由字母数字下划线组成且第一个字符只能是字母或下划线。

- **函数形参：**跟在函数名后用 `( )` 括起来。函数形参可以为空，但是函数名后的 `( )`不能省略。多个形参用逗号分隔。

- **函数体**：也就是数学中的对应法则，跟在形参`( )`之后用`{ }`括起来，函数功能的实现写在`{ }`内。

- **函数返回值**：也就是数学中的函数值，通过 `return` 返回，函数名前指定类型。没有返回值，函数名前面加 `void` 。

```c
/*  函数名：hello
    函数形参：hello() ，没有形参，但是小括号不能省略
    函数体：跟在()之后用{ }括起来，函数功能的实现写在{ }内
    返回值：函数名前的void表示函数没有返回值*/
void hello()
{
    printf("hello\n");
}
void world()
{
    printf("world\n");
}
int main()
{
    hello();
    world();
    return 0;
}
```

```c
/*函数名：f
形式参数：f(int x)
函数体：f(int x){ return x + 1; }
返回值：int f(int x){ return x + 1; }*/
int f(int x)
{
    return x+1;
}
int main()
{
    int a;
    a = f(4);	// 函数调用  f(4) = 4 + 1 = 5   所以a的值为5
    printf("%d", a);	// 十进制整数形式输出c的值到屏幕
    return 0;
}
```

```c
int g(int y, int z);
int main()
{
    int b;
    b = g(3,2);	
    printf("%d", b);	
    return 0;
}
int g(int y, int z)
{
    return y*y - z*z;
}
```

- **函数的声明**：自定义函数可以写在调用之前，也可以写在调用之后。写在调用之后的函数，要在程序的开头位置，添加函数声明。因为C编译器是从上往下处理代码的，遇到一个没有定义的函数，编译器就会报错。函数声明就是提前告诉编译器某个函数的定义在程序的后面，避免编译器误报错。函数声明的写法就是把用`{ }`括起来的函数体全部删掉改成分号。



##### 作业 

- 编写一个函数，函数功能是返回两个整数的和。

```c
#include<stdio.h>
int sum(int a, int b);  //函数声明
int main()	  
{
    int c;
    c = sum(3,5);      // 函数调用。函数定义在后面。在函数定义之前使用的函数，要在前面添加函数声明  
    printf("%d", c);     
    return 0;
}
int sum(int a, int b)    // 函数定义
{
    return a + b;
}
```

- 选择题：

```tex
1.以下叙述中，正确的是(      )
A. 构成C程序的基本单位是函数
B. 可以在一个函数中定义另一个函数
C. main（）函数必须放在其他函数之前
D. 所有被调用的函数一定要在调用之前进行定义

2.要把高级语言编写的源程序转换为目标程序，需要使用(      )
A. 编辑程序    B. 驱动程序    C.诊断程序    D.编译程序

【题1.1】一个C程序的执行是从 (      )
A）本程序的 main 函数开始，到 main 函数结束
B）本程序的第一个函数开始，到本程序文件的最后一个函数结束
C）本程序的 main 函数开始，到本程序文件的最后一个函数结束
D）本程序的第一个函数开始，到本程序main 函数结束

【题1.2】以下叙述正确的是(      )
A）在C程序中，main 函数必须位于程序的最前面
B）C程序的每行中只能写一条语句
C）C语言本身没有输入输出语句
D）在对一个C程序进行编译的过程中，可以发现注释中的拼写错误

【题1.3】以下叙述不正确的是 (      )
A）一个C源程序可由一个或多个函数组成
B）一个C源程序必须包含一个 main 函数
C）C程序的基本组成单位是函数
D）在C程序中，注释说明只能位于一条语句的后面

【题1.4】C语言规定∶在一个源程序中，main 函数的位置 (      )
A）必须在最开始
B）必须在系统调用的库函数的后面
C）可以任意
D）必须在最后

【题1.5】一个C语言程序由 (      )
A）一个主程序和若干子程序组成
B）函数组成
C）若干过程组成
D）若干子程序组成
```



##### 小结

本节，了解了函数的概念，使用了C语言中的 `main` 主函数，调用了 `printf` 库函数 ，并学习了如何自定义函数。

