## 级数专题（二）

> 级数，是近年高考重点考察题型，以改错题为主。改错题，要注意答案填写格式，首先指出错误所在行，其次该行修改正确后的代码要全部谢谢来，不要多加分号，也不要忘掉括号。

重点检查以下五个改错点

- 函数类型与函数返回值。
- 和变量初始值等
- 循环变量的：初始值、循环条件、递增/递减值
- 累加操作通项公式表达式的正确性：整/整、`x^n`、`n!`、交错级数符号等是常见改错点。
- 附加一个代码语法错误的检查：宏定义、头文件引入、for中的逗号分号，if中的=与==。

###### ncre45

1. 下面函数功能是根据公式求π的值，例如，当指定精度变量eps为0.0005时，输出π的值为3.140578。请修改程序中的错误，以下程序只允许修改三行。

$$
\frac{π}{2} = 1 + \frac{1}{3} + \frac{1*2}{3*5}+\frac{1*2*3}{3*5*7}+\frac{1*2*3*4}{3*5*7*9}+...
$$

```c
#include<stdio.h>
fun(double eps)
{
    double s, t; int n = 1;
    s = 0.0;
    t = 0.0;
    while(t > eps)
    {
        s += t;
        t = t*n/(2*n+1);
        n++;
    }
    return s;
}
int main()
{
    printf("%lf", fun(0.0005));
}
```

```tex

______ 行改为______________________________________

______ 行改为______________________________________

______ 行改为______________________________________


```





2. 以下程序函数的功能是计算下列级数的和$$S_N$$，直到$$S_N+1$$的值大于q的值为止，q通过形参传入。例如，q的值为50.0，则函数的值应为49.394948。请修改程序中的错误，以下程序只允许修改两行。

$$
S_N = \frac{2}{1} + \frac{3}{2} + \frac{4}{3} + ... + \frac{N+1}{N}
$$

```c
#include<stdio.h>
double fun(double q)
{
    int n;
    double s, t;
    n = 2;
    s = 2.0;
    while(s <= q)
    {
        t = s;
        s += (n+1) / n;
        n++;
    }
    return s;
}
int main()
{
    printf("%f", fun(50));
}
```

```tex

______ 行改为______________________________________

______ 行改为______________________________________

```

